*** Begin Patch
*** Update File: openiptv/lib/src/ui/login_screen.dart
@@
   void _showSuccessSnackBar(String message) {
     final messenger = ScaffoldMessenger.of(context);
     messenger.showSnackBar(
       SnackBar(content: Text(message), behavior: SnackBarBehavior.floating),
     );
   }
+
+  ({Map<String, String> headers, String? error}) _parseHeaderInput(
+    String raw,
+  ) {
+    final trimmedBlock = raw.trim();
+    if (trimmedBlock.isEmpty) {
+      return (headers: const {}, error: null);
+    }
+    final headers = <String, String>{};
+    for (final line in trimmedBlock.split('\n')) {
+      final entry = line.trim();
+      if (entry.isEmpty) {
+        continue;
+      }
+      final separatorIndex = entry.indexOf(':');
+      if (separatorIndex <= 0) {
+        return (
+          headers: const {},
+          error: 'Headers must use the format "Key: Value".',
+        );
+      }
+      final key = entry.substring(0, separatorIndex).trim();
+      final value = entry.substring(separatorIndex + 1).trim();
+      if (key.isEmpty) {
+        return (
+          headers: const {},
+          error: 'Header names cannot be empty.',
+        );
+      }
+      headers[key] = value;
+    }
+    return (headers: headers, error: null);
+  }
 
   Future<void> _handleSaveDraft() async {
*** End Patch
